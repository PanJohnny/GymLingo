---
import GroupShowcase from '../components/GroupShowcase.astro';
import UserInfo from '../components/UserInfo.astro';
import Layout from '../layouts/Layout.astro';
import {isValidToken} from "../database"
import Header1 from '../components/Header1.astro';

if (!Astro.cookies.has("token") || ! (await isValidToken(Astro.cookies.get("token").value)))
    return Astro.redirect("/me/auth/login");
---

<Layout title="GymLingo" description="GymLingo - základy polštiny">
	<header>
		<UserInfo /> <Header1 />
	</header>
	<main>
		<p>
			Dočasně se přehled všech slovíček nachází <a href="/slovnik">zde</a>
		</p>
		<GroupShowcase title="Zvířata" group="animals" image="/boars.jpg" image_desc='Foto <a href="https://pixabay.com/users/webandi-1460261/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=2256293">Andreas Lischka</a>'/>
		<GroupShowcase title="Základní fráze" group="phrases" image="/people.jpg" image_desc='Foto <a href="https://pixabay.com/users/mabelamber-1377835/?utm_source=link-attribution&utm_medium=referral&utm_campaign=image&utm_content=3163556">Mabel Amber</a>'/>
	</main>
</Layout>

<style>
	header {
		display: flex;
		flex-direction: row;
		justify-content: space-between;
	}

	main {
		display: flex;
		margin: 2em;
		align-items: center;
		justify-content: center;
		flex-direction: column;
	}

	:global(main > *) {
		margin-bottom: 2em;
	}
</style>